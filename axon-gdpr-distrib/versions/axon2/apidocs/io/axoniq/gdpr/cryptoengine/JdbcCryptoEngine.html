<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="nl">
<head>
<!-- Generated by javadoc (1.8.0_131) on Wed Apr 04 16:22:33 CEST 2018 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>JdbcCryptoEngine (axoniq-gdpr-axon2 1.2 API)</title>
<meta name="date" content="2018-04-04">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="JdbcCryptoEngine (axoniq-gdpr-axon2 1.2 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/JdbcCryptoEngine.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../io/axoniq/gdpr/cryptoengine/JavaKeyStoreCryptoEngine.html" title="class in io.axoniq.gdpr.cryptoengine"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../io/axoniq/gdpr/cryptoengine/KeyType.html" title="enum in io.axoniq.gdpr.cryptoengine"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?io/axoniq/gdpr/cryptoengine/JdbcCryptoEngine.html" target="_top">Frames</a></li>
<li><a href="JdbcCryptoEngine.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">io.axoniq.gdpr.cryptoengine</div>
<h2 title="Class JdbcCryptoEngine" class="title">Class JdbcCryptoEngine</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../io/axoniq/gdpr/cryptoengine/DatabaseBackedCryptoEngine.html" title="class in io.axoniq.gdpr.cryptoengine">io.axoniq.gdpr.cryptoengine.DatabaseBackedCryptoEngine</a></li>
<li>
<ul class="inheritance">
<li>io.axoniq.gdpr.cryptoengine.JdbcCryptoEngine</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../io/axoniq/gdpr/cryptoengine/CryptoEngine.html" title="interface in io.axoniq.gdpr.cryptoengine">CryptoEngine</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">JdbcCryptoEngine</span>
extends <a href="../../../../io/axoniq/gdpr/cryptoengine/DatabaseBackedCryptoEngine.html" title="class in io.axoniq.gdpr.cryptoengine">DatabaseBackedCryptoEngine</a></pre>
<div class="block">JDBC-based implementation of the <a href="../../../../io/axoniq/gdpr/cryptoengine/CryptoEngine.html" title="interface in io.axoniq.gdpr.cryptoengine"><code>CryptoEngine</code></a> interface, included for users who wish to store keys
 in a relational database but do not wish to use JPA.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../io/axoniq/gdpr/cryptoengine/JdbcCryptoEngine.html#JdbcCryptoEngine-javax.sql.DataSource-">JdbcCryptoEngine</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/javax/sql/DataSource.html?is-external=true" title="class or interface in javax.sql">DataSource</a>&nbsp;dataSource)</code>
<div class="block">Constructs a new JdbcCryptoEngine, using "id" as the SQL name of the key id column, "secret_key" as the SQL name
 of the key data column, and "gdpr_module_keys" as the SQL name of the table.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../io/axoniq/gdpr/cryptoengine/JdbcCryptoEngine.html#JdbcCryptoEngine-javax.sql.DataSource-java.lang.String-">JdbcCryptoEngine</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/javax/sql/DataSource.html?is-external=true" title="class or interface in javax.sql">DataSource</a>&nbsp;dataSource,
                <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;tableName)</code>
<div class="block">Constructs a new JdbcCryptoEngine, using "id" as the SQL name of the key id column, and "secret_key" as the
 SQL name of the key data column.</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../io/axoniq/gdpr/cryptoengine/JdbcCryptoEngine.html#JdbcCryptoEngine-javax.sql.DataSource-java.lang.String-java.lang.String-java.lang.String-">JdbcCryptoEngine</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/javax/sql/DataSource.html?is-external=true" title="class or interface in javax.sql">DataSource</a>&nbsp;dataSource,
                <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;tableName,
                <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;keyIdColumnName,
                <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;keyDataColumnName)</code>
<div class="block">Constructs a new JdbcCryptoEngine.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/axoniq/gdpr/cryptoengine/JdbcCryptoEngine.html#deleteKey-java.lang.String-">deleteKey</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;id)</code>
<div class="block">Deletes the key for a given id.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/axoniq/gdpr/cryptoengine/JdbcCryptoEngine.html#getCreateTableStatement--">getCreateTableStatement</a></span>()</code>
<div class="block">Returns a DDL statement to create the table for key storage, using the SQL names that have been
 configured.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/axoniq/gdpr/cryptoengine/JdbcCryptoEngine.html#getDeleteStatement--">getDeleteStatement</a></span>()</code>
<div class="block">Generates the DELETE statement to remove a key:
 
 <code>DELETE FROM [key table] WHERE [key id column] = ?</code></div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/axoniq/gdpr/cryptoengine/JdbcCryptoEngine.html#getInsertStatement--">getInsertStatement</a></span>()</code>
<div class="block">Generates the INSERT statement to store a key:
 
 {@code INSERT INTO [key table]([key id column], [key data column]) VALUES (?</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/javax/crypto/SecretKey.html?is-external=true" title="class or interface in javax.crypto">SecretKey</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/axoniq/gdpr/cryptoengine/JdbcCryptoEngine.html#getKey-java.lang.String-">getKey</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;id)</code>
<div class="block">Retrieves the key for a given id.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>protected <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/axoniq/gdpr/cryptoengine/JdbcCryptoEngine.html#getKeyDataColumnName--">getKeyDataColumnName</a></span>()</code>
<div class="block">Returns the SQL name of the key data column as configured during construction.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>protected <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/axoniq/gdpr/cryptoengine/JdbcCryptoEngine.html#getKeyIdColumnName--">getKeyIdColumnName</a></span>()</code>
<div class="block">Returns the SQL name of the key id column as configured during construction.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>protected <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/axoniq/gdpr/cryptoengine/JdbcCryptoEngine.html#getSelectStatement--">getSelectStatement</a></span>()</code>
<div class="block">Generates the SELECT statement to retrieve the key data based on the key id:
 
 <code>SELECT [key data column] FROM [key table] WHERE [key id column] = ?</code></div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>protected <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/axoniq/gdpr/cryptoengine/JdbcCryptoEngine.html#getTableName--">getTableName</a></span>()</code>
<div class="block">Returns the SQL name of the table as configured during construction.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>protected <a href="https://docs.oracle.com/javase/8/docs/api/javax/crypto/SecretKey.html?is-external=true" title="class or interface in javax.crypto">SecretKey</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/axoniq/gdpr/cryptoengine/JdbcCryptoEngine.html#putKeyIfAbsent-java.lang.String-javax.crypto.spec.SecretKeySpec-">putKeyIfAbsent</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;id,
              <a href="https://docs.oracle.com/javase/8/docs/api/javax/crypto/spec/SecretKeySpec.html?is-external=true" title="class or interface in javax.crypto.spec">SecretKeySpec</a>&nbsp;secretKeySpec)</code>
<div class="block">Stores the key for the given id, if no key is currently registered for this id.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.io.axoniq.gdpr.cryptoengine.DatabaseBackedCryptoEngine">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;io.axoniq.gdpr.cryptoengine.<a href="../../../../io/axoniq/gdpr/cryptoengine/DatabaseBackedCryptoEngine.html" title="class in io.axoniq.gdpr.cryptoengine">DatabaseBackedCryptoEngine</a></h3>
<code><a href="../../../../io/axoniq/gdpr/cryptoengine/DatabaseBackedCryptoEngine.html#createCipher--">createCipher</a>, <a href="../../../../io/axoniq/gdpr/cryptoengine/DatabaseBackedCryptoEngine.html#createDigestCipher--">createDigestCipher</a>, <a href="../../../../io/axoniq/gdpr/cryptoengine/DatabaseBackedCryptoEngine.html#getKeyType--">getKeyType</a>, <a href="../../../../io/axoniq/gdpr/cryptoengine/DatabaseBackedCryptoEngine.html#getOrCreateKey-java.lang.String-">getOrCreateKey</a>, <a href="../../../../io/axoniq/gdpr/cryptoengine/DatabaseBackedCryptoEngine.html#setKeyType-io.axoniq.gdpr.cryptoengine.KeyType-">setKeyType</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="JdbcCryptoEngine-javax.sql.DataSource-java.lang.String-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>JdbcCryptoEngine</h4>
<pre>public&nbsp;JdbcCryptoEngine(<a href="https://docs.oracle.com/javase/8/docs/api/javax/sql/DataSource.html?is-external=true" title="class or interface in javax.sql">DataSource</a>&nbsp;dataSource,
                        <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;tableName,
                        <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;keyIdColumnName,
                        <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;keyDataColumnName)</pre>
<div class="block">Constructs a new JdbcCryptoEngine.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dataSource</code> - the DataSource</dd>
<dd><code>tableName</code> - the SQL name table in which keys will be stored</dd>
<dd><code>keyIdColumnName</code> - the SQL name of the column in which the key id will be stored</dd>
<dd><code>keyDataColumnName</code> - the SQL name of the column in which the key data will be stored</dd>
</dl>
</li>
</ul>
<a name="JdbcCryptoEngine-javax.sql.DataSource-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>JdbcCryptoEngine</h4>
<pre>public&nbsp;JdbcCryptoEngine(<a href="https://docs.oracle.com/javase/8/docs/api/javax/sql/DataSource.html?is-external=true" title="class or interface in javax.sql">DataSource</a>&nbsp;dataSource,
                        <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;tableName)</pre>
<div class="block">Constructs a new JdbcCryptoEngine, using "id" as the SQL name of the key id column, and "secret_key" as the
 SQL name of the key data column.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dataSource</code> - the DataSource</dd>
<dd><code>tableName</code> - the SQL name table in which keys will be stored</dd>
</dl>
</li>
</ul>
<a name="JdbcCryptoEngine-javax.sql.DataSource-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>JdbcCryptoEngine</h4>
<pre>public&nbsp;JdbcCryptoEngine(<a href="https://docs.oracle.com/javase/8/docs/api/javax/sql/DataSource.html?is-external=true" title="class or interface in javax.sql">DataSource</a>&nbsp;dataSource)</pre>
<div class="block">Constructs a new JdbcCryptoEngine, using "id" as the SQL name of the key id column, "secret_key" as the SQL name
 of the key data column, and "gdpr_module_keys" as the SQL name of the table.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dataSource</code> - the DataSource</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getTableName--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTableName</h4>
<pre>protected&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getTableName()</pre>
<div class="block">Returns the SQL name of the table as configured during construction.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the name</dd>
</dl>
</li>
</ul>
<a name="getKeyIdColumnName--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getKeyIdColumnName</h4>
<pre>protected&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getKeyIdColumnName()</pre>
<div class="block">Returns the SQL name of the key id column as configured during construction.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the name</dd>
</dl>
</li>
</ul>
<a name="getKeyDataColumnName--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getKeyDataColumnName</h4>
<pre>protected&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getKeyDataColumnName()</pre>
<div class="block">Returns the SQL name of the key data column as configured during construction.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the name</dd>
</dl>
</li>
</ul>
<a name="getCreateTableStatement--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCreateTableStatement</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getCreateTableStatement()</pre>
<div class="block">Returns a DDL statement to create the table for key storage, using the SQL names that have been
 configured. This is never executed automatically by the module. It is purely here to facilitate
 developer who need to create the table automatically, e.g. for automatic tests.
 <p>
 This statement uses <code>VARCHAR(255)</code> as the data type for the columns, since this will work
 universally across SQL databases. Please note that for MS SQL Server, you may wish to either
 use <code>sendStringParametersAsUnicode=false</code>, or change this to <code>NVARCHAR</code>, to avoid
 a performance hit on the primary key index.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the CREATE TABLE statement</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="https://blogs.msdn.microsoft.com/sqlcat/2010/04/05/character-data-type-conversion-when-using-sql-server-jdbc-drivers/">SQL Server Customer Advisory Team</a></dd>
</dl>
</li>
</ul>
<a name="getSelectStatement--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSelectStatement</h4>
<pre>protected&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getSelectStatement()</pre>
<div class="block">Generates the SELECT statement to retrieve the key data based on the key id:
 <p>
 <code>SELECT [key data column] FROM [key table] WHERE [key id column] = ?</code></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the SELECT statement</dd>
</dl>
</li>
</ul>
<a name="getInsertStatement--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInsertStatement</h4>
<pre>protected&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getInsertStatement()</pre>
<div class="block">Generates the INSERT statement to store a key:
 <p>
 <code>INSERT INTO [key table]([key id column], [key data column]) VALUES (?, ?)</code></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the INSERT statement</dd>
</dl>
</li>
</ul>
<a name="getDeleteStatement--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDeleteStatement</h4>
<pre>protected&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getDeleteStatement()</pre>
<div class="block">Generates the DELETE statement to remove a key:
 <p>
 <code>DELETE FROM [key table] WHERE [key id column] = ?</code></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the DELETE statement</dd>
</dl>
</li>
</ul>
<a name="putKeyIfAbsent-java.lang.String-javax.crypto.spec.SecretKeySpec-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>putKeyIfAbsent</h4>
<pre>protected&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/javax/crypto/SecretKey.html?is-external=true" title="class or interface in javax.crypto">SecretKey</a>&nbsp;putKeyIfAbsent(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;id,
                                   <a href="https://docs.oracle.com/javase/8/docs/api/javax/crypto/spec/SecretKeySpec.html?is-external=true" title="class or interface in javax.crypto.spec">SecretKeySpec</a>&nbsp;secretKeySpec)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../../io/axoniq/gdpr/cryptoengine/DatabaseBackedCryptoEngine.html#putKeyIfAbsent-java.lang.String-javax.crypto.spec.SecretKeySpec-">DatabaseBackedCryptoEngine</a></code></span></div>
<div class="block">Stores the key for the given id, if no key is currently registered for this id.
 Returns the new key belonging to id, which is either the key that was already
 registered or the key provided as the 2nd argument if no key was registered yet.
 (Please note that this is different behaviour from
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html?is-external=true#putIfAbsent-K-V-" title="class or interface in java.util.concurrent"><code>ConcurrentHashMap.putIfAbsent(Object, Object)</code></a>, which
 always returns the prior value belonging to key.)</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../io/axoniq/gdpr/cryptoengine/DatabaseBackedCryptoEngine.html#putKeyIfAbsent-java.lang.String-javax.crypto.spec.SecretKeySpec-">putKeyIfAbsent</a></code>&nbsp;in class&nbsp;<code><a href="../../../../io/axoniq/gdpr/cryptoengine/DatabaseBackedCryptoEngine.html" title="class in io.axoniq.gdpr.cryptoengine">DatabaseBackedCryptoEngine</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - the id for which to store/retrieve the secret key</dd>
<dd><code>secretKeySpec</code> - the <a href="https://docs.oracle.com/javase/8/docs/api/javax/crypto/spec/SecretKeySpec.html?is-external=true" title="class or interface in javax.crypto.spec"><code>SecretKeySpec</code></a> to store if none has been stored yet for id</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the effective <a href="https://docs.oracle.com/javase/8/docs/api/javax/crypto/spec/SecretKeySpec.html?is-external=true" title="class or interface in javax.crypto.spec"><code>SecretKeySpec</code></a> for id</dd>
</dl>
</li>
</ul>
<a name="getKey-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getKey</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/javax/crypto/SecretKey.html?is-external=true" title="class or interface in javax.crypto">SecretKey</a>&nbsp;getKey(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;id)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../io/axoniq/gdpr/cryptoengine/CryptoEngine.html#getKey-java.lang.String-">CryptoEngine</a></code></span></div>
<div class="block">Retrieves the key for a given id.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - the id of the <a href="https://docs.oracle.com/javase/8/docs/api/javax/crypto/SecretKey.html?is-external=true" title="class or interface in javax.crypto"><code>SecretKey</code></a></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the existing <a href="https://docs.oracle.com/javase/8/docs/api/javax/crypto/SecretKey.html?is-external=true" title="class or interface in javax.crypto"><code>SecretKey</code></a> associated with the id, or <code>null</code> if no such key exists</dd>
</dl>
</li>
</ul>
<a name="deleteKey-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>deleteKey</h4>
<pre>public&nbsp;void&nbsp;deleteKey(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;id)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../io/axoniq/gdpr/cryptoengine/CryptoEngine.html#deleteKey-java.lang.String-">CryptoEngine</a></code></span></div>
<div class="block">Deletes the key for a given id. Does nothing if the key doesn't exist.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - the id of the <a href="https://docs.oracle.com/javase/8/docs/api/javax/crypto/SecretKey.html?is-external=true" title="class or interface in javax.crypto"><code>SecretKey</code></a></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/JdbcCryptoEngine.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../io/axoniq/gdpr/cryptoengine/JavaKeyStoreCryptoEngine.html" title="class in io.axoniq.gdpr.cryptoengine"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../io/axoniq/gdpr/cryptoengine/KeyType.html" title="enum in io.axoniq.gdpr.cryptoengine"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?io/axoniq/gdpr/cryptoengine/JdbcCryptoEngine.html" target="_top">Frames</a></li>
<li><a href="JdbcCryptoEngine.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2018. All rights reserved.</small></p>
</body>
</html>
